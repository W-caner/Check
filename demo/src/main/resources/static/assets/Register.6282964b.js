import{r as e}from"./index.7b400e89.js";import{w as o}from"./element-plus.d6772035.js";import{aj as r,ah as t,ao as i,ag as s,G as l,O as a,N as n,q as c,aJ as d}from"./@vue.c261c184.js";import"./vue-router.f985018f.js";import"./vuex.51c69487.js";import"./vue-i18n.298c823a.js";import"./@intlify.c1f614fa.js";import"./axios.df2521e5.js";import"./resize-observer-polyfill.96acbc9d.js";import"./lodash.c042e748.js";import"./normalize-wheel.86fce3c7.js";import"./mitt.20cc8481.js";import"./dayjs.1c7a45b9.js";import"./async-validator.3a3a8ce1.js";import"./@popperjs.59bfb2c1.js";const p={name:"Register",data(){return{clickVerCode:!1,verSecond:60,timer:null,userInfo:{phone:"",verification:""},rules:{phone:[{required:!0,validator:this.telCheck,trigger:"blur"}],verification:[{required:!0,validator:this.code,trigger:"blur"}]}}},methods:{next(){this.$axios.get("http://localhost:9000/phone",{params:{phone:this.userInfo.phone}}).then((r=>{""===r.data?(sessionStorage.setItem("phone",this.userInfo.phone),e.push("/next")):o.info("该号码已经注册，请返回登录")})).catch((function(e){console.log(e)}))},code:(e,o,r)=>""===o?r(new Error("请输入验证码")):4!==o.length?r(new Error("请输入正确4位验证码")):void r(),telCheck:(e,o,r)=>""===o?r(new Error("请输入手机密码")):11!==o.toString().length?r(new Error("手机号码必须为11位")):/^1[3-9]\d{9}$/.test(o)?void r():r(new Error("请输入有效的手机号码")),verCodeClick(){this.clickVerCode||(this.clickVerCode=!0,this.timer=setInterval((()=>{1==this.verSecond&&(this.clickVerCode=!1,this.verSecond=60,clearTimer()),this.verSecond-=1}),1e3))},clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)}}},m=d();r("data-v-d6f8f67a");const u={class:"login-wrap"},f={class:"ms-login"},h=a("div",{class:"ms-title"},"新用户注册",-1),v=a("i",{class:"el-icon-mobile-phone",style:{"font-size":"20px"}},null,-1),g=a("i",{class:"el-icon-message",style:{"font-size":"20px"}},null,-1),j={class:"login-btn"},k=n("返回登录"),C=n("下一步");t();const b=m(((e,o,r,t,d,p)=>{const b=i("el-input"),y=i("el-form-item"),I=i("el-button"),x=i("router-link"),V=i("el-form");return s(),l("div",u,[a("div",f,[h,a(V,{model:d.userInfo,rules:d.rules,"label-width":"0px",class:"ms-content"},{default:m((()=>[a(y,{prop:"phone"},{default:m((()=>[a(b,{modelValue:d.userInfo.phone,"onUpdate:modelValue":o[1]||(o[1]=e=>d.userInfo.phone=e),placeholder:"请输入电话"},{prepend:m((()=>[v])),_:1},8,["modelValue"])])),_:1}),a(y,{prop:"verification"},{default:m((()=>[a(b,{modelValue:d.userInfo.verification,"onUpdate:modelValue":o[2]||(o[2]=e=>d.userInfo.verification=e),placeholder:"请输入验证码"},{prepend:m((()=>[g])),append:m((()=>[a(I,{onClick:p.verCodeClick,style:{"background-color":"#409EFF",color:"white"}},{default:m((()=>[n(c(d.clickVerCode?d.verSecond+"s":"获取验证码"),1)])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),a("div",j,[a(x,{to:"/login"},{default:m((()=>[a(I,{type:"info",style:{"margin-right":"1%"}},{default:m((()=>[k])),_:1})])),_:1}),a(I,{type:"primary",onClick:o[3]||(o[3]=e=>p.next()),style:{"margin-left":"1%"}},{default:m((()=>[C])),_:1})])])),_:1},8,["model","rules"])])])}));p.render=b,p.__scopeId="data-v-d6f8f67a";export default p;
