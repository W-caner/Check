import{r as s}from"./index.00ca952c.js";import{B as e,p as t,a as r,r as o,o as a,c as l,f as p,w as d,h as i}from"./vendor.d4ba3cb4.js";import"public/icon.ico";const n={name:"forgetnext",data(){return{btn:!0,pCheck:!0,pCheck2:!0,Psw:{password:"",password2:""},rules:{password:[{required:!0,validator:this.pswCheck,trigger:"blur"}],password2:[{required:!0,validator:this.passwordCheck,trigger:"blur"}]}}},computed:{buttonStatus(){return{pC:this.pCheck,pC2:this.pCheck2}}},watch:{buttonStatus(s){s.pC||s.pC2||(this.btn=!1)}},methods:{psw(){this.$axios.post("http://localhost:9000/alterpsw",{userid:sessionStorage.getItem("phone"),password:this.Psw.password}).then((function(t){"failed"===t.data?e.error("重置密码失败"):(e.success("重置密码成功"),s.push("/login"))})).catch((function(s){}))},pswCheck(s,e,t){return e.length<6?(this.pCheck=!0,t(new Error("密码不能少于6位"))):e.length>16?(this.pCheck=!0,t(new Error("密码不能超过16位"))):/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/.test(e)?(this.pCheck=!1,void t()):(this.pCheck=!0,t(new Error("密码输入有误，请检查格式是否正确")))},passwordCheck(s,e,t){return e.length<1?(this.pCheck2=!0,t(new Error("重复密码不能为空"))):e!==this.Psw.password?(this.pCheck2=!0,t(new Error("两次输入密码不一致"))):(this.pCheck2=!1,void t())}}},c=d();t("data-v-50d10f58");const h={class:"login-wrap"},u={class:"ms-login"},w=p("div",{class:"ms-title"},"重置密码",-1),m=p("p",{style:{"font-size":"14px",color:"#909399"}},"请输入6-16位数字字母组合",-1),C=p("i",{class:"el-icon-lock"},null,-1),k=p("i",{class:"el-icon-unlock"},null,-1),b={class:"login-btn"},f=i("提交");r();const g=c(((s,e,t,r,d,i)=>{const n=o("el-input"),g=o("el-form-item"),v=o("el-button"),P=o("el-form");return a(),l("div",h,[p("div",u,[w,p(P,{model:d.Psw,rules:d.rules,"label-width":"0px",class:"ms-content"},{default:c((()=>[m,p(g,{prop:"password"},{default:c((()=>[p(n,{modelValue:d.Psw.password,"onUpdate:modelValue":e[1]||(e[1]=s=>d.Psw.password=s),placeholder:"请输入密码",type:"password"},{prepend:c((()=>[C])),_:1},8,["modelValue"])])),_:1}),p(g,{prop:"password2"},{default:c((()=>[p(n,{modelValue:d.Psw.password2,"onUpdate:modelValue":e[2]||(e[2]=s=>d.Psw.password2=s),placeholder:"请再次确认密码",type:"password",disabled:d.pCheck},{prepend:c((()=>[k])),_:1},8,["modelValue","disabled"])])),_:1}),p("div",b,[p(v,{type:"primary",onClick:e[3]||(e[3]=s=>i.psw()),disabled:d.btn},{default:c((()=>[f])),_:1},8,["disabled"])])])),_:1},8,["model","rules"])])])}));n.render=g,n.__scopeId="data-v-50d10f58";export default n;
