import{r as e}from"./index.357f76a7.js";import{p as o,d as r,r as t,o as l,c as i,a as n,h as s,t as a,w as d}from"./vendor.7d6c6094.js";const c={name:"Register",data(){return{clickVerCode:!1,verSecond:60,timer:null,userInfo:{phone:"",verification:""},rules:{phone:[{required:!0,validator:this.telCheck,trigger:"blur"}],verification:[{required:!0,validator:this.code,trigger:"blur"}]}}},methods:{next(){this.$axios.get("http://localhost:9000/phone",{params:{phone:this.userInfo.phone}}).then((function(o){null===o.data?(sessionStorage.setItem("phone",this.userInfo.phone),e.push("/next")):ElMessage.info("该号码已经注册，请返回登录")})).catch((function(e){}))},code:(e,o,r)=>""===o?r(new Error("请输入验证码")):4!==o.length?r(new Error("请输入正确4位验证码")):void r(),telCheck:(e,o,r)=>""===o?r(new Error("请输入手机密码")):11!==o.toString().length?r(new Error("手机号码必须为11位")):/^1[3-9]\d{9}$/.test(o)?void r():r(new Error("请输入有效的手机号码")),clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)},verCodeClick(){this.clickVerCode||(this.clickVerCode=!0,this.timer=setInterval((()=>{1==this.verSecond&&(this.clickVerCode=!1,this.verSecond=60,clearTimer()),this.verSecond-=1}),1e3))}}},u=d();o("data-v-1c048f4d");const h={class:"login-wrap"},p={class:"ms-login"},f=n("div",{class:"ms-title"},"新用户注册",-1),m=n("i",{class:"el-icon-mobile-phone",style:{"font-size":"20px"}},null,-1),v=n("i",{class:"el-icon-message",style:{"font-size":"20px"}},null,-1),g={class:"login-btn"},k=s("返回登录"),C=s("下一步");r();const I=u(((e,o,r,d,c,I)=>{const V=t("el-input"),_=t("el-form-item"),w=t("el-button"),x=t("router-link"),y=t("el-form");return l(),i("div",h,[n("div",p,[f,n(y,{model:c.userInfo,rules:c.rules,"label-width":"0px",class:"ms-content"},{default:u((()=>[n(_,{prop:"phone"},{default:u((()=>[n(V,{modelValue:c.userInfo.phone,"onUpdate:modelValue":o[1]||(o[1]=e=>c.userInfo.phone=e),placeholder:"请输入电话"},{prepend:u((()=>[m])),_:1},8,["modelValue"])])),_:1}),n(_,{prop:"verification"},{default:u((()=>[n(V,{modelValue:c.userInfo.verification,"onUpdate:modelValue":o[2]||(o[2]=e=>c.userInfo.verification=e),placeholder:"请输入验证码"},{prepend:u((()=>[v])),append:u((()=>[n(w,{onClick:I.verCodeClick,style:{"background-color":"#409EFF",color:"white"}},{default:u((()=>[s(a(c.clickVerCode?c.verSecond+"s":"获取验证码"),1)])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),n("div",g,[n(x,{to:"/login"},{default:u((()=>[n(w,{type:"info",style:{"margin-right":"1%"}},{default:u((()=>[k])),_:1})])),_:1}),n(w,{type:"primary",onClick:o[3]||(o[3]=e=>I.next()),style:{"margin-left":"1%"}},{default:u((()=>[C])),_:1})])])),_:1},8,["model","rules"])])])}));c.render=I,c.__scopeId="data-v-1c048f4d";export default c;
