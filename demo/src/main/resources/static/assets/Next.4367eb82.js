import{r as e}from"./index.dd089dcb.js";import{p as s,d as r,r as t,o as a,c as o,a as l,w as d,h as n}from"./vendor.7d6c6094.js";const p={name:"Next",data(){return{User:{username:"",password:"",password2:""},btn:!0,nCheck:!0,pCheck:!0,pCheck2:!0,rules:{username:[{required:!0,validator:this.nameCheck,trigger:"blur"}],password:[{required:!0,validator:this.pswCheck,trigger:"blur"}],password2:[{required:!0,validator:this.passwordCheck,trigger:"blur"}]}}},computed:{buttonStatus(){return{nC:this.nCheck,pC:this.pCheck,pC2:this.pCheck2}}},watch:{buttonStatus(e){e.nC||e.pC||e.pC2||(this.btn=!1)}},methods:{submit(){this.$axios.post("http://localhost:9000/register",{id:sessionStorage.getItem("phone"),name:this.User.username,password:this.User.password}).then((function(s){"failed"===s.data?ElMessage.error("注册失败"):(ElMessage.success("注册成功"),e.push("/login"))})).catch((function(e){}))},nameCheck(e,s,r){return s.length<1?(this.nCheck=!0,r(new Error("昵称不能为空"))):s.toString().length>10?(this.nCheck=!0,r(new Error("昵称不能超过10位"))):(this.nCheck=!1,void r())},pswCheck(e,s,r){return s.length<6?(this.pCheck=!0,r(new Error("密码不能少于6位"))):s.length>16?(this.pCheck=!0,r(new Error("密码不能超过16位"))):/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/.test(s)?(this.pCheck=!1,void r()):(this.pCheck=!0,r(new Error("密码输入有误，请检查格式是否正确")))},passwordCheck(e,s,r){return s.length<1?(this.pCheck2=!0,r(new Error("重复密码不能为空"))):s!==this.User.password?(this.pCheck2=!0,r(new Error("两次输入密码不一致"))):(this.pCheck2=!1,r())}}},i=d();s("data-v-529c53c4");const c={class:"login-wrap"},h={class:"ms-login"},u=l("div",{class:"ms-title"},"完善信息",-1),m=l("i",{class:"el-icon-user"},null,-1),w=l("p",{style:{"font-size":"14px",color:"#909399"}},"请输入6-16位数字字母组合",-1),C=l("i",{class:"el-icon-lock"},null,-1),k=l("i",{class:"el-icon-unlock"},null,-1),g={class:"login-btn"},b=n("注册");r();const f=i(((e,s,r,d,n,p)=>{const f=t("el-input"),U=t("el-form-item"),v=t("el-button"),_=t("el-form");return a(),o("div",c,[l("div",h,[u,l(_,{model:n.User,rules:n.rules,"label-width":"0px",class:"ms-content"},{default:i((()=>[l(U,{prop:"username"},{default:i((()=>[l(f,{modelValue:n.User.username,"onUpdate:modelValue":s[1]||(s[1]=e=>n.User.username=e),placeholder:"请输入昵称"},{prepend:i((()=>[m])),_:1},8,["modelValue"])])),_:1}),w,l(U,{prop:"password"},{default:i((()=>[l(f,{modelValue:n.User.password,"onUpdate:modelValue":s[2]||(s[2]=e=>n.User.password=e),placeholder:"请输入密码",type:"password"},{prepend:i((()=>[C])),_:1},8,["modelValue"])])),_:1}),l(U,{prop:"password2"},{default:i((()=>[l(f,{modelValue:n.User.password2,"onUpdate:modelValue":s[3]||(s[3]=e=>n.User.password2=e),placeholder:"请再次确认密码",type:"password",disabled:n.pCheck},{prepend:i((()=>[k])),_:1},8,["modelValue","disabled"])])),_:1}),l("div",g,[l(v,{type:"primary",onClick:s[4]||(s[4]=e=>p.submit()),disabled:n.btn},{default:i((()=>[b])),_:1},8,["disabled"])])])),_:1},8,["model","rules"])])])}));p.render=f,p.__scopeId="data-v-529c53c4";export default p;
