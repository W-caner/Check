import{r as e}from"./index.00ca952c.js";import{B as s,p as r,a as t,r as a,o,c as l,f as d,w as n,h as i}from"./vendor.d4ba3cb4.js";import"public/icon.ico";const p={name:"Next",data(){return{User:{username:"",password:"",password2:""},btn:!0,nCheck:!0,pCheck:!0,pCheck2:!0,rules:{username:[{required:!0,validator:this.nameCheck,trigger:"blur"}],password:[{required:!0,validator:this.pswCheck,trigger:"blur"}],password2:[{required:!0,validator:this.passwordCheck,trigger:"blur"}]}}},computed:{buttonStatus(){return{nC:this.nCheck,pC:this.pCheck,pC2:this.pCheck2}}},watch:{buttonStatus(e){e.nC||e.pC||e.pC2||(this.btn=!1)}},methods:{submit(){this.$axios.post("http://localhost:9000/register",{userid:sessionStorage.getItem("phone"),name:this.User.username,password:this.User.password}).then((function(r){"failed"===r.data?s.error("注册失败"):(s.success("注册成功"),e.push("/login"))})).catch((function(e){}))},nameCheck(e,s,r){return s.length<1?(this.nCheck=!0,r(new Error("昵称不能为空"))):s.toString().length>10?(this.nCheck=!0,r(new Error("昵称不能超过10位"))):(this.nCheck=!1,void r())},pswCheck(e,s,r){return s.length<6?(this.pCheck=!0,r(new Error("密码不能少于6位"))):s.length>16?(this.pCheck=!0,r(new Error("密码不能超过16位"))):/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/.test(s)?(this.pCheck=!1,void r()):(this.pCheck=!0,r(new Error("密码输入有误，请检查格式是否正确")))},passwordCheck(e,s,r){return s.length<1?(this.pCheck2=!0,r(new Error("重复密码不能为空"))):s!==this.User.password?(this.pCheck2=!0,r(new Error("两次输入密码不一致"))):(this.pCheck2=!1,r())}}},c=n();r("data-v-7a07dbd1");const h={class:"login-wrap"},u={class:"ms-login"},m=d("div",{class:"ms-title"},"完善信息",-1),w=d("i",{class:"el-icon-user"},null,-1),C=d("p",{style:{"font-size":"14px",color:"#909399"}},"请输入6-16位数字字母组合",-1),k=d("i",{class:"el-icon-lock"},null,-1),b=d("i",{class:"el-icon-unlock"},null,-1),g={class:"login-btn"},f=i("注册");t();const U=c(((e,s,r,t,n,i)=>{const p=a("el-input"),U=a("el-form-item"),v=a("el-button"),_=a("el-form");return o(),l("div",h,[d("div",u,[m,d(_,{model:n.User,rules:n.rules,"label-width":"0px",class:"ms-content"},{default:c((()=>[d(U,{prop:"username"},{default:c((()=>[d(p,{modelValue:n.User.username,"onUpdate:modelValue":s[1]||(s[1]=e=>n.User.username=e),placeholder:"请输入昵称"},{prepend:c((()=>[w])),_:1},8,["modelValue"])])),_:1}),C,d(U,{prop:"password"},{default:c((()=>[d(p,{modelValue:n.User.password,"onUpdate:modelValue":s[2]||(s[2]=e=>n.User.password=e),placeholder:"请输入密码",type:"password"},{prepend:c((()=>[k])),_:1},8,["modelValue"])])),_:1}),d(U,{prop:"password2"},{default:c((()=>[d(p,{modelValue:n.User.password2,"onUpdate:modelValue":s[3]||(s[3]=e=>n.User.password2=e),placeholder:"请再次确认密码",type:"password",disabled:n.pCheck},{prepend:c((()=>[b])),_:1},8,["modelValue","disabled"])])),_:1}),d("div",g,[d(v,{type:"primary",onClick:s[4]||(s[4]=e=>i.submit()),disabled:n.btn},{default:c((()=>[f])),_:1},8,["disabled"])])])),_:1},8,["model","rules"])])])}));p.render=U,p.__scopeId="data-v-7a07dbd1";export default p;
