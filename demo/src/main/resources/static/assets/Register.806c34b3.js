import{r as e}from"./index.00ca952c.js";import{B as o,p as r,a as t,r as i,o as l,c as n,f as s,h as a,t as c,w as d}from"./vendor.d4ba3cb4.js";import"public/icon.ico";const p={name:"Register",data(){return{clickVerCode:!1,verSecond:60,timer:null,userInfo:{phone:"",verification:""},rules:{phone:[{required:!0,validator:this.telCheck,trigger:"blur"}],verification:[{required:!0,validator:this.code,trigger:"blur"}]}}},methods:{next(){this.$axios.get("http://localhost:9000/phone",{params:{phone:this.userInfo.phone}}).then((r=>{""===r.data?(sessionStorage.setItem("phone",this.userInfo.phone),e.push("/next")):o.info("该号码已经注册，请返回登录")})).catch((function(e){}))},code:(e,o,r)=>""===o?r(new Error("请输入验证码")):4!==o.length?r(new Error("请输入正确4位验证码")):void r(),telCheck:(e,o,r)=>""===o?r(new Error("请输入手机密码")):11!==o.toString().length?r(new Error("手机号码必须为11位")):/^1[3-9]\d{9}$/.test(o)?void r():r(new Error("请输入有效的手机号码")),verCodeClick(){this.clickVerCode||(this.clickVerCode=!0,this.timer=setInterval((()=>{1==this.verSecond&&(this.clickVerCode=!1,this.verSecond=60,clearTimer()),this.verSecond-=1}),1e3))},clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)}}},u=d();r("data-v-d6f8f67a");const h={class:"login-wrap"},f={class:"ms-login"},m=s("div",{class:"ms-title"},"新用户注册",-1),v=s("i",{class:"el-icon-mobile-phone",style:{"font-size":"20px"}},null,-1),g=s("i",{class:"el-icon-message",style:{"font-size":"20px"}},null,-1),k={class:"login-btn"},C=a("返回登录"),I=a("下一步");t();const V=u(((e,o,r,t,d,p)=>{const V=i("el-input"),_=i("el-form-item"),b=i("el-button"),w=i("router-link"),x=i("el-form");return l(),n("div",h,[s("div",f,[m,s(x,{model:d.userInfo,rules:d.rules,"label-width":"0px",class:"ms-content"},{default:u((()=>[s(_,{prop:"phone"},{default:u((()=>[s(V,{modelValue:d.userInfo.phone,"onUpdate:modelValue":o[1]||(o[1]=e=>d.userInfo.phone=e),placeholder:"请输入电话"},{prepend:u((()=>[v])),_:1},8,["modelValue"])])),_:1}),s(_,{prop:"verification"},{default:u((()=>[s(V,{modelValue:d.userInfo.verification,"onUpdate:modelValue":o[2]||(o[2]=e=>d.userInfo.verification=e),placeholder:"请输入验证码"},{prepend:u((()=>[g])),append:u((()=>[s(b,{onClick:p.verCodeClick,style:{"background-color":"#409EFF",color:"white"}},{default:u((()=>[a(c(d.clickVerCode?d.verSecond+"s":"获取验证码"),1)])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1}),s("div",k,[s(w,{to:"/login"},{default:u((()=>[s(b,{type:"info",style:{"margin-right":"1%"}},{default:u((()=>[C])),_:1})])),_:1}),s(b,{type:"primary",onClick:o[3]||(o[3]=e=>p.next()),style:{"margin-left":"1%"}},{default:u((()=>[I])),_:1})])])),_:1},8,["model","rules"])])])}));p.render=V,p.__scopeId="data-v-d6f8f67a";export default p;
